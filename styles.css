/* ============================================================
   EXPLODING VILTRUMITES - Card Game Stylesheet
   ============================================================
   A teaching project for A-Level Computer Science students.

   This CSS file is organised into clear sections:
   1. CSS Custom Properties (variables)
   2. Reset & Base Styles
   3. Animations (keyframes)
   4. Layout (header, grid, sidebars)
   5. Header Bar
   6. Left Sidebar (CPU Players)
   7. Center Game Area (draw pile, discard, status)
   8. Right Sidebar (Player Hand & Cards)
   9. Modals & Overlays
   10. Utility Classes
   ============================================================ */


/* ============================================================
   1. CSS CUSTOM PROPERTIES
   ============================================================
   Variables let us reuse colours and values throughout the file.
   Change a variable here and it updates everywhere it's used.
   ============================================================ */
:root {
    --color-primary: #2a4494;    /* Retro blue  - buttons, links     */
    --color-success: #2d8b46;    /* Retro green - alive, playable    */
    --color-danger: #c0392b;     /* Retro red   - eliminated         */
    --color-warning: #f4c542;    /* Retro gold  - basic pairs, warnings*/
    --color-purple: #5e3c8f;     /* Retro purple - favor, special    */
    --color-bg-start: #e8781e;   /* Retro orange (no gradient)       */
    --color-bg-end: #e8781e;     /* Same — kills the gradient        */

    /* Retro pixel-art theme palette */
    --retro-orange: #e8781e;
    --retro-orange-dark: #c45e10;
    --retro-orange-panel: #d06818;
    --retro-red: #c0392b;
    --retro-blue: #2a4494;
    --retro-blue-light: #3a5ab8;
    --retro-gold: #f4c542;
    --retro-gold-dark: #c99a20;
    --retro-brown: #8b5e34;
    --retro-brown-dark: #5c3a1e;
    --font-pixel: 'Press Start 2P', cursive;
}


/* ============================================================
   2. RESET & BASE STYLES
   ============================================================
   A minimal reset removes default browser spacing and sets
   a consistent box-sizing model across all elements.
   ============================================================ */
*,
*::before,
*::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    /* Fill the entire viewport with no scrolling */
    height: 100vh;
    overflow: hidden;
    font-family: var(--font-pixel);
    /* Solid retro orange background — no gradients */
    background: var(--retro-orange);
    color: #1e293b;
}


/* ============================================================
   3. ANIMATIONS (KEYFRAMES)
   ============================================================
   @keyframes define reusable animations we can apply with
   the 'animation' property on any element.
   ============================================================ */

/* Gentle scale pulse - used for active players, turn indicators */
@keyframes pulse {
    0%   { transform: scale(1); }
    50%  { transform: scale(1.05); }
    100% { transform: scale(1); }
}

/* Vertical bounce - used for "THINKING..." text */
@keyframes bounce {
    0%   { transform: translateY(0); }
    50%  { transform: translateY(-5px); }
    100% { transform: translateY(0); }
}

/* Fade in from transparent - used for modals and status banners */
@keyframes fadeIn {
    from { opacity: 0; }
    to   { opacity: 1; }
}

/* Slide up while fading in - used for modal appearance */
@keyframes slideUp {
    from {
        transform: translateY(20px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}


/* ============================================================
   4. LAYOUT - MAIN GRID
   ============================================================
   The game uses a three-column CSS Grid layout:
   - Left sidebar  (~250px) for CPU players
   - Center area   (flexible) for the game board
   - Right sidebar (~300px) for the human player's hand
   ============================================================ */
/* Body fills the viewport; the game-screen wrapper handles flex layout */
body {
    display: flex;
    flex-direction: column;
}

/* The three-column grid fills the remaining space below the header */
#game-layout {
    flex: 1;
    display: grid;
    grid-template-columns: 250px 1fr 300px; /* left, center, right */
    min-height: 0;                          /* Prevent grid blowout */
}


/* ============================================================
   5. HEADER BAR
   ============================================================
   A solid dark header bar spans the full width of the grid.
   Uses retro pixel-art styling with gold accents.
   ============================================================ */
#header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 24px;
    background: var(--retro-brown-dark);
    border-bottom: 4px solid var(--retro-gold);
}

/* Header child divs sit items in a row */
#header > div {
    display: flex;
    align-items: center;
    gap: 12px;
}

/* Game title text */
#header h1 {
    font-size: 1rem;
    font-weight: 700;
    color: var(--retro-gold);
    text-shadow: 2px 2px 0 #000;
}

/* Turn counter badge - rectangular retro style */
.turn-counter {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 4px 14px;
    background: var(--retro-brown);
    border: 3px solid var(--retro-gold);
    border-radius: 0;
    font-size: 0.65rem;
    font-weight: 600;
    color: #ffffff;
}

/* Current player indicator with animation */
.current-player-indicator {
    font-size: 0.65rem;
    font-weight: 600;
    color: #ffffff;
    animation: pulse 2s ease-in-out infinite;
}

.current-player-indicator.text-retro-green {
    color: var(--color-success);
}


/* ============================================================
   6. LEFT SIDEBAR - CPU PLAYERS
   ============================================================
   Shows each CPU player as a card with their status.
   Solid retro orange panel with pixel-art borders.
   ============================================================ */
#cpu-sidebar {
    background: var(--retro-orange-dark);
    padding: 16px;
    overflow-y: auto;
    border-right: 4px solid var(--retro-brown);
}

#cpu-sidebar h2 {
    font-size: 0.7rem;
    font-weight: 700;
    color: var(--retro-gold);
    margin-bottom: 12px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    text-shadow: 2px 2px 0 #000;
}

/* Individual CPU player card */
.cpu-player-card {
    background: var(--retro-brown-dark);
    border: 3px solid var(--retro-brown);
    border-radius: 0;
    padding: 14px;
    margin-bottom: 10px;
    box-shadow: 3px 3px 0 #000;
    color: #ffffff;
}

/* Active player highlight */
.cpu-player-card.active {
    background: var(--retro-brown);
    border-color: var(--retro-gold);
    box-shadow: 3px 3px 0 #000, 0 0 0 2px var(--retro-gold);
    animation: pulse 2s ease-in-out infinite;
}

/* Eliminated player - red tint, dimmed */
.cpu-player-card.eliminated {
    background: #3a1a1a;
    border-color: var(--retro-red);
    opacity: 0.6;
}

/* Player name row */
.cpu-player-card .player-name {
    font-weight: 700;
    font-size: 0.6rem;
    margin-bottom: 6px;
    color: var(--retro-gold);
}

/* Card count and status row */
.cpu-player-card .player-info {
    font-size: 0.55rem;
    color: #cccccc;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

/* "THINKING..." bounce animation text */
.thinking-text {
    display: inline-block;
    font-size: 0.5rem;
    font-weight: 700;
    color: var(--retro-gold);
    animation: bounce 1s ease-in-out infinite;
    margin-top: 6px;
}

/* Status badges: ALIVE (green) and ELIMINATED (red) */
.status-badge {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 0;
    font-size: 0.45rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border: 2px solid;
}

.status-badge.alive {
    background: var(--color-success);
    border-color: #1a6e30;
    color: #ffffff;
}

.status-badge.eliminated {
    background: var(--retro-red);
    border-color: #8a1a10;
    color: #ffffff;
}


/* ============================================================
   7. CENTER GAME AREA
   ============================================================
   The main game board: status banner, draw/discard piles,
   and the viltrumite placement bar.
   ============================================================ */
#game-area {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 20px;
    overflow-y: auto;
}

/* --- Status Banner --- */
/* A coloured bar at the top of the center area showing game events */
.status-banner {
    width: 100%;
    padding: 12px 20px;
    border-radius: 0;
    border: 3px solid var(--retro-brown);
    text-align: center;
    font-weight: 700;
    font-size: 0.6rem;
    color: #ffffff;
    margin-bottom: 20px;
    box-shadow: 3px 3px 0 #000;
    animation: fadeIn 0.3s ease;
}

/* Banner colour variants based on event type */
.status-banner.neutral {
    background: var(--retro-brown-dark);
    color: #ffffff;
}

.status-banner.hero-assist {
    background: var(--retro-gold-dark);
    border-color: var(--retro-gold);
    animation: fadeIn 0.3s ease, pulse 2s ease-in-out infinite;
}

.status-banner.favor {
    background: var(--color-purple);
    border-color: #7a50b0;
}

.status-banner.elimination {
    background: var(--retro-red);
    border-color: #8a1a10;
    animation: fadeIn 0.3s ease, bounce 1s ease-in-out infinite;
}

/* --- Draw & Discard Piles --- */
/* Two card-like boxes displayed side by side */
#piles-container {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 24px;
    margin-bottom: 24px;
}

.pile-card {
    width: 140px;
    height: 180px;
    background: var(--retro-brown-dark);
    border: 4px solid var(--retro-brown);
    border-radius: 0;
    box-shadow: 4px 4px 0 #000;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 6px;
    transition: transform 0.2s ease;
    cursor: default;
    color: #ffffff;
}

.pile-card:hover {
    transform: scale(1.03);
}

/* Large emoji on the pile card */
.pile-card .pile-emoji {
    font-size: 2.5rem;
}

/* Label text (e.g., "Draw Pile", "Discard") */
.pile-card .pile-label {
    font-size: 0.5rem;
    font-weight: 600;
    color: var(--retro-gold);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

/* Card count number */
.pile-card .pile-count {
    font-size: 0.8rem;
    font-weight: 700;
    color: #ffffff;
}

/* Name of the top card on the discard pile */
.pile-subtext {
    font-size: 0.45rem;
    color: var(--retro-gold);
    font-weight: 500;
}

/* Lightning bolt divider between the two piles */
.pile-divider {
    font-size: 2rem;
    color: var(--retro-gold);
    user-select: none;
}

/* --- Viltrumite Attack Placement Bar --- */
/* Shown when a player must place a Viltrumite Attack back in the deck */
.viltrumite-attack-placement-bar {
    width: 100%;
    max-width: 480px;
    background: var(--retro-red);
    border: 4px solid #8a1a10;
    border-radius: 0;
    padding: 16px 20px;
    text-align: center;
    color: #ffffff;
    margin-bottom: 16px;
    box-shadow: 4px 4px 0 #000;
    animation: slideUp 0.3s ease;
}

.viltrumite-attack-placement-bar p {
    font-weight: 700;
    margin-bottom: 12px;
    font-size: 0.6rem;
}

.viltrumite-attack-placement-buttons {
    display: flex;
    gap: 10px;
    justify-content: center;
}

.viltrumite-attack-placement-buttons button {
    background: var(--retro-blue);
    color: var(--retro-gold);
    border: 3px solid var(--retro-gold);
    border-radius: 0;
    padding: 8px 18px;
    font-family: var(--font-pixel);
    font-weight: 700;
    font-size: 0.55rem;
    cursor: pointer;
    box-shadow: 3px 3px 0 #000;
    transition: transform 0.15s ease;
}

.viltrumite-attack-placement-buttons button:hover {
    transform: translate(-2px, -2px);
    box-shadow: 5px 5px 0 #000;
}


/* ============================================================
   8. RIGHT SIDEBAR - PLAYER HAND
   ============================================================
   Shows the human player's cards, draw button, and turn status.
   ============================================================ */
#player-sidebar {
    background: var(--retro-orange-dark);
    padding: 16px;
    overflow-y: auto;
    border-left: 4px solid var(--retro-brown);
    display: flex;
    flex-direction: column;
    gap: 12px;
}

/* Player header with card count */
#player-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

#player-header h2 {
    font-size: 0.7rem;
    font-weight: 700;
    color: var(--retro-gold);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    text-shadow: 2px 2px 0 #000;
}

.card-count {
    font-size: 0.55rem;
    font-weight: 600;
    color: #ffffff;
}

/* --- Turn Indicator --- */
.turn-indicator {
    display: inline-block;
    padding: 6px 16px;
    border-radius: 0;
    border: 3px solid;
    font-size: 0.55rem;
    font-weight: 700;
    text-align: center;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    box-shadow: 3px 3px 0 #000;
}

.turn-indicator.your-turn {
    background: var(--color-success);
    border-color: #1a6e30;
    color: #ffffff;
    animation: pulse 2s ease-in-out infinite;
}

.turn-indicator.waiting {
    background: var(--retro-brown);
    border-color: var(--retro-brown-dark);
    color: #cccccc;
}

/* --- Draw Button --- */
.draw-button {
    width: 100%;
    padding: 12px;
    background: var(--retro-blue);
    color: var(--retro-gold);
    border: 3px solid var(--retro-gold);
    border-radius: 0;
    font-family: var(--font-pixel);
    font-size: 0.6rem;
    font-weight: 700;
    cursor: pointer;
    box-shadow: 4px 4px 0 #000;
    transition: transform 0.15s ease;
}

.draw-button:hover:not(:disabled) {
    transform: translate(-2px, -2px);
    box-shadow: 6px 6px 0 #000;
}

/* Disabled state - grey and non-interactive */
.draw-button:disabled {
    background: var(--retro-brown);
    border-color: var(--retro-brown-dark);
    color: #888;
    opacity: 0.5;
    cursor: not-allowed;
}

/* --- Cards Grid --- */
/* Two-column grid layout for the player's hand cards */
.cards-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;  /* Two equal columns */
    gap: 10px;
}

/* --- Individual Card Tile --- */
.card-tile {
    background: var(--retro-brown-dark);
    border-radius: 0;
    padding: 12px;
    text-align: center;
    border: 3px solid var(--retro-brown);
    box-shadow: 3px 3px 0 #000;
    transition: transform 0.15s ease, border-color 0.15s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    color: #ffffff;
}

/* Large emoji on the card */
.card-tile .card-emoji {
    font-size: 2rem;
}

/* Card name text */
.card-tile .card-name {
    font-weight: 700;
    font-size: 0.5rem;
    color: #ffffff;
}

/* Card type label (e.g., "Attack", "Skip") */
.card-tile .card-type {
    font-size: 0.4rem;
    color: #cccccc;
}

/* Action label at the bottom (e.g., "Play", "Choose target") */
.card-tile .card-action {
    font-size: 0.45rem;
    font-weight: 600;
    margin-top: 4px;
}

/* --- Card State Variants --- */

/* Playable cards - green border, interactive */
.card-tile.playable {
    border-color: var(--color-success);
    cursor: pointer;
}

.card-tile.playable:hover {
    transform: translate(-2px, -2px);
    box-shadow: 5px 5px 0 #000;
}

/* Basic pair available - gold border with "PAIR!" label */
.card-tile.basic-pair {
    border-color: var(--retro-gold);
    cursor: pointer;
}

.card-tile.basic-pair:hover {
    transform: translate(-2px, -2px);
    box-shadow: 5px 5px 0 #000;
}

.card-tile.basic-pair .card-action {
    color: var(--retro-gold);
}

/* Viltrumite Attack card - red border, "DANGER!" label */
.card-tile.viltrumite-attack {
    border-color: var(--retro-red);
}

.card-tile.viltrumite-attack .card-action {
    color: var(--retro-red);
}

/* Hero Assist card - green border, "SAFETY" label */
.card-tile.hero-assist {
    border-color: var(--color-success);
}

.card-tile.hero-assist .card-action {
    color: var(--color-success);
}

/* Non-playable cards - dimmed */
.card-tile.non-playable {
    border-color: #555;
    opacity: 0.5;
    cursor: not-allowed;
}

/* --- Favor Give Mode --- */
/* When the player must choose a card to give during a Favor action */
.favor-instruction {
    width: 100%;
    padding: 10px 16px;
    background: var(--color-purple);
    color: #ffffff;
    border: 3px solid #7a50b0;
    border-radius: 0;
    text-align: center;
    font-weight: 700;
    font-size: 0.55rem;
    box-shadow: 3px 3px 0 #000;
    animation: fadeIn 0.3s ease;
}

/* In favor mode, cards get purple hover borders */
.favor-mode .card-tile:hover {
    border-color: var(--color-purple);
    box-shadow: 5px 5px 0 #000;
}


/* ============================================================
   9. MODALS & OVERLAYS
   ============================================================
   Modals appear on top of the game for important interactions
   (game over, attack choices, target selection, etc.).
   ============================================================ */

/* Dark overlay behind the modal */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.75);
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: fadeIn 0.3s ease;
}

/* Modal content box */
.modal-content {
    background: var(--retro-brown-dark);
    border: 4px solid var(--retro-gold);
    border-radius: 0;
    box-shadow: 6px 6px 0 #000;
    padding: 28px;
    max-width: 500px;
    width: 90%;
    color: #ffffff;
    animation: slideUp 0.3s ease;
}

.modal-content h2 {
    font-size: 0.8rem;
    font-weight: 700;
    margin-bottom: 12px;
    color: var(--retro-gold);
    text-shadow: 2px 2px 0 #000;
}

.modal-content p {
    font-size: 0.55rem;
    color: #cccccc;
    margin-bottom: 16px;
    line-height: 2;
}

/* Game Over modal - solid retro purple bg */
.modal-content.game-over {
    background: var(--color-purple);
    border-color: #7a50b0;
    color: #ffffff;
}

.modal-content.game-over h2,
.modal-content.game-over p {
    color: #ffffff;
}

/* Attack modal - solid retro red bg */
.modal-content.attack {
    background: var(--retro-red);
    border-color: #e74c3c;
    color: #ffffff;
}

.modal-content.attack h2,
.modal-content.attack p {
    color: #ffffff;
}

/* --- Modal Buttons --- */
.modal-buttons {
    display: flex;
    gap: 10px;
    justify-content: flex-end;
    margin-top: 16px;
    flex-wrap: wrap;
}

.modal-button {
    padding: 10px 22px;
    border: 3px solid var(--retro-gold);
    border-radius: 0;
    font-family: var(--font-pixel);
    font-size: 0.55rem;
    font-weight: 700;
    cursor: pointer;
    box-shadow: 3px 3px 0 #000;
    transition: transform 0.15s ease;
}

.modal-button:hover {
    transform: translate(-2px, -2px);
    box-shadow: 5px 5px 0 #000;
}

/* Primary action button (retro blue bg, gold text) */
.modal-button.primary {
    background: var(--retro-blue);
    color: var(--retro-gold);
}

/* Secondary action button (brown bg) */
.modal-button.secondary {
    background: var(--retro-brown);
    border-color: var(--retro-brown-dark);
    color: #ffffff;
}

.modal-button.secondary:hover {
    background: var(--retro-brown-dark);
}

/* --- Modal Player/Card List --- */
/* Used for target selection and similar modal lists */
.modal-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-bottom: 16px;
}

.modal-list-item {
    padding: 10px 16px;
    background: var(--retro-brown);
    border: 3px solid var(--retro-brown-dark);
    border-radius: 0;
    cursor: pointer;
    font-size: 0.55rem;
    font-weight: 600;
    color: #ffffff;
    box-shadow: 3px 3px 0 #000;
    transition: transform 0.15s ease;
}

.modal-list-item:hover {
    background: var(--retro-blue);
    border-color: var(--retro-gold);
    transform: translate(-2px, -2px);
    box-shadow: 5px 5px 0 #000;
}


/* ============================================================
   10. UTILITY CLASSES
   ============================================================
   Small helper classes for common patterns.
   ============================================================ */

/* Hide an element completely - !important overrides specific display rules */
.hidden {
    display: none !important;
}

/* Help text at the bottom of the player sidebar */
.help-text {
    font-size: 0.45rem;
    color: var(--retro-gold);
    text-align: center;
    margin-top: auto;
}

/* Colour helpers for status text */
.text-success {
    color: var(--color-success);
}

.text-danger {
    color: var(--color-danger);
}

.text-warning {
    color: var(--color-warning);
}

.text-purple {
    color: var(--color-purple);
}

.text-primary {
    color: var(--color-primary);
}

.text-white {
    color: #ffffff;
}

/* Retro colour helpers */
.text-retro-green {
    color: var(--color-success);
}

/* --- Modal inline-style replacements --- */
.modal-highlight {
    font-size: 0.7rem;
    font-weight: 700;
}

.modal-emoji-header {
    font-size: 3rem;
    text-align: center;
    animation: bounce 1s ease-in-out infinite;
}

.modal-text-center {
    text-align: center;
    justify-content: center;
}

.modal-card-grid {
    margin-bottom: 16px;
}

/* See the Future: card type highlights */
.stf-viltrumite-attack {
    background: #5a1a10;
    border-left: 4px solid var(--retro-red);
}

.stf-hero-assist {
    background: #1a4a20;
    border-left: 4px solid var(--color-success);
}


/* ============================================================
   11. START SCREEN
   ============================================================
   Uses the actual reference image as the full background.
   Transparent buttons are positioned over the image's drawn
   PLAY, SETTINGS, and EXIT areas so they are clickable.
   ============================================================ */

#start-screen {
    position: fixed;
    inset: 0;
    z-index: 2000;
    background: url('start-bg.jpg') center/cover no-repeat;
    background-color: #d4712a;
    transition: opacity 0.4s ease, visibility 0.4s ease;
}

#start-screen.fade-out {
    opacity: 0;
    visibility: hidden;
}

/* Invisible clickable buttons positioned over the image's drawn buttons */
.start-btn {
    position: absolute;
    background: transparent;
    border: none;
    cursor: pointer;
    color: transparent;
    font-size: 0;
}

/* Hover feedback - subtle highlight so users know it's clickable */
.start-btn:hover {
    background: rgba(255, 255, 255, 0.15);
    border-radius: 4px;
}

.start-btn:active {
    background: rgba(255, 255, 255, 0.25);
}

/* PLAY button - positioned over the "PLAY" text in the image */
.start-btn-play {
    left: 7%;
    top: 33%;
    width: 32%;
    height: 16%;
}

/* SETTINGS button - positioned over the "SETTINGS" text in the image */
.start-btn-settings {
    left: 7%;
    top: 55%;
    width: 32%;
    height: 16%;
}

/* EXIT button - positioned over the "EXIT" text in the image */
.start-btn-exit {
    right: 3%;
    top: 3%;
    width: 10%;
    height: 10%;
}

/* --- Game Screen Transition --- */
#game-screen {
    display: flex;
    flex-direction: column;
    height: 100vh;
    animation: fadeIn 0.4s ease;
}
